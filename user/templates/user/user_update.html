{% extends "base.html" %}
{% block content %}
<div class="container">
    <div class='row my-3'></div>
    <div class="col-6 py-3 d-flex justify-content-center" style="float: none; margin:0 auto; color:#808080;">
        <h4 id="cafe">비밀번호와 이메일만 수정이 가능합니다</h4>
    </div>
    <div class="col-6" style="float: none; margin:0 auto;">
    <form method="POST" action=".">
        {% csrf_token %}
        <div class="row mx-5 my-0 py-2">
            <div class="col-2 px-0" id="cafe" style="color:#808080"><h4>이름</h4></div>
            <div class="col-4" id="cafe" style="float: none; margin:0 auto; color:#808080;"><h4>{{ user.name }}</h4></div>
        </div>        
        <div class="row mx-5 my-0 pb-2">
            <div class="col-2 px-0" id="cafe" style="color:#808080;"><h4>아이디</h4></div>
            <div class="col-4" id="cafe" style="float: none; margin:0 auto; color:#808080;"><h4>{{ user.id }}</h4></div>
        </div>
        <div class="row mx-5 my-0 pb-2">
            <h5 for="password" id="cafe" >비밀번호</h5>
            <div class="input-group">
                <input class="form-control navbar_edge_color" type="password" name="password1" id="password" 
                    value ="{{ form.password.value|default_if_none:'' }}" required placeholder="">
            </div>
        </div>
        <div class="row mx-5 my-0 pb-2">
            <h5 class='font-wieght-bold' id="cafe">비밀번호 확인</h5>
            <div class="input-group">
                <input class='form-control navbar_edge_color' type='password' name='password2' id='password_check'
                    placeholder=' 위와 동일한 비밀번호를 입력하세요.' required>
            </div>
            <small class='mt-1 text-danger'> {{password_error_msg}} </small>
        </div>
        <div class="row mx-5 my-0 pb-3">
            <h5 for="email" id="cafe">이메일</h5>
            <div class="input-group">
                <input class="form-control navbar_edge_color" type="text" name="email" id="email"
                    value="{{ user.email }}" required>
            </div>
            <small class='mt-1 text-danger'> {{email_error_msg}} </small>
        </div>
        <div class="row mx-5 my-0 pb-2">
            <button class='btn main_btn form-control' id="cafe" type="submit">수정 완료</button>
        </div>
        <div class="row mx-5 my-0 pb-2 justify-content-end">
            <small>
                <a href="#" data-toggle="modal" data-target="#modal" id="cafe" style="color: coral;"><h5>탈퇴하기</h5></a>
        <!-- <button type="button"><a href="{% url 'user:member_del' %}">탈퇴하기</a></button> -->
    </form>
    </div>
</div>
<div class='modal fade' id='modal' tabindex='-1'>
    <div class='modal-dialog'>
        <div class='modal-content'>
            <div class='modal-header'>
                <strong>탈퇴하기</strong>
                <button type='button' class='close' data-dismiss='modal'>
                    <span>x</span>
                </button>
            </div>
            <div class='modal-body text-center'>
                <p>정말 탈퇴하시겠습니까?</p>
            </div>
            <div class='modal-footer justify-content-center'>
                <button class='btn main_btn' data-dismiss='modal'>아니오</button>
                <a href="{% url 'user:member_del' %}" class='btn sub_btn'>&nbsp;&nbsp;&nbsp;예&nbsp;&nbsp;&nbsp;</a>
            </div>
        </div>
    </div>
</div>
{% endblock content %}